{% extends 'app/base.html' %}
{% block content %}
{% load static %}


<style>
    @media print {
    /* Hide the print button during printing */
    .print-button, .go-back-button {
            display: none;
        }

    /* Define other print styles as needed */
    body {
        font-size: 12pt;
        /* Add other print-specific styles as needed */
    }
}
</style>

<!-- partial -->


       <br>
       <br>
    <div class="container">
      
      <div class="row">
          <div class="col-lg-12">
              <div class="card px-2">
                  <div class="card-body">
                      <div class="container-fluid">
                        <h3 class="text-right my-5">Receipt&nbsp;&nbsp;#INV-17</h3>
                        <hr>
                      </div>
                      <div class="container-fluid d-flex justify-content-between">
                        <div class="col-lg-3 pl-0">
                          <p class="mt-5 mb-2"><b>AGKI Hospital</b></p>
                          <p>104,<br>vikuge,<br>Kibaha-Pwani</p>
                        </div>
                        <div class="col-lg-3 pr-0">
                          <p class="mt-5 mb-2 text-right"><b>Invoice to</b></p>
                          <p class="text-right">{{x.fullname}}<br> {{x.address}}<br> </p>
                        </div>
                      </div>
                      <div class="container-fluid d-flex justify-content-between">
                        <div class="col-lg-3 pl-0">
                          <p class="mb-0 mt-5"><b>Invoice Date:</b> {{x.date}}</p>
                          <p class="mb-0 mt-5"><b>Generated by:</b> {{user.username}}</p>
                          
                        </div>
                      </div>
                      <div class="container-fluid mt-5 d-flex justify-content-center w-100">
                        <div class="table-responsive w-100">
                            <table class="table">
                              <thead>
                                <tr class="bg-dark text-white" style="background: linear-gradient(85deg, #392c70, #6a005b);">
                                    <th>#</th>
                                    <th>Service/drugs</th>
                                    <th class="text-right">Dosage</th>
                                    <th class="text-right">Amount</th>
                                    <th class="text-right">Unit cost</th>
                                    <th class="text-right">Total cost</th>
                                  </tr>
                              </thead>
                              <tbody>
                                {% for prescription in prescriptions %}
                                <tr class="text-right">
                                  <td class="text-left"></td>
                                  <td class="text-left">{{ prescription.medicine }}</td>
                                  <td>{{ prescription.dosage }}</td>
                                  <td>{{ prescription.amount }}</td>
                                  <td>{{ prescription.cost }}</td>
                                  <td>{{ prescription.totalCost }}</td>
                                </tr>
                                {% endfor %}
                                
                              </tbody>
                            </table>

                          </div>
                      </div>
                      <div class="container-fluid mt-5 w-100">
                        
                        <h4 class="text-right mb-5">Total : {{sum_total_cost}} Tsh</h4>
                        <hr>
                      </div>
                      <div class="container-fluid w-100">
                            <button onclick="printPage()" class="btn btn-primary float-right mt-4 ml-2 print-button"><i class="fa fa-print mr-1"></i>Print</button>
                        <a href="{% url 'patientDetail' x.id %}" class="btn btn-success float-right mt-4 go-back-button"><i class="fa fa-share mr-1"></i>Go back</a>
                      </div>

                      

    <!-- Include JavaScript function to trigger print -->
                        <script>
                            function printPage() {
                                window.print(); // This will trigger the browser's print functionality for the entire page
                            }
                        </script>
                  </div>
              </div>
          </div>
      </div>
    </div>
    <!-- content-wrapper ends -->
    
  
  <!-- main-panel ends -->

  {% endblock %}